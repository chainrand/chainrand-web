!function(){var e,s,o,n,i,a,t,r,l=[{name:"mainnet",currency:"ETH",id:1,supported:!1},{name:"rinkeby",currency:"ETH",id:4,supported:!0},{name:"polygon",currency:"MATIC",id:137,supported:!1},{name:"mumbai",currency:"MATIC",id:80001,supported:!0}],z="https://github.com/chainrand",u=0,c=function(e){var n=function(e,n){var a=0,t=[];for(e=e.slice(),n=n.slice();e.length||n.length;){var i=(e.pop()||0)+(n.pop()||0)+a;t.unshift(i<10?i:i-10),a=i<10?0:1}return a&&t.unshift(a),t};if(e=e.trim(),/^(0x)?[0-9a-f]+$/i.test(e)){for(var a=[0],t=0;t<e.length;++t)for(var i=parseInt(e.charAt(t),16),s=8;s;s>>=1)a=n(a,a),i&s&&(a=n(a,[1]));return a.join("")}return null},d=navigator.userAgent,b=(d.match(/Linux/i)&&d.match(/Android/i)&&d.match(/Mozilla/i)&&d.match(/AppleWebKit/i)&&d.match(/Chrome/i),d.match(/iPhone|iPad|iPod/i)&&d.match(/AppleWebKit/),d.match(/iPad|iPhone|Android|BlackBerry|webOS|Mobile/i)&&(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone),function(e){return(e=""+e).charAt(0).toUpperCase()+e.slice(1)}),h=(s=(e||"1").split(""),o="0123456789abcdefghijklmnopqrstuvwxyz",n=function(e){for(var n=0<e?1:-1,a=Math.abs(e);a--;)for(var t=s.length;t--;){var i=o.indexOf(s[t])+n;i<o.length?(s[t]=o.charAt(i),t=0):(s[t]="0",t||(s.unshift("1"),t=0))}return s.join("")},function(){return"elId_"+n(1)}),m=(i=0,function(){for(var e=[],n=0,a=0;a<arguments.length;++a)e.push(arguments[a]);var t=function(){window.tippy?window.tippy.apply(void 0,e):n<30&&(i||(i=1,$.ajax({url:"https://unpkg.com/@popperjs/core@2",cached:!0,dataType:"script",success:function(){$.ajax({url:"https://unpkg.com/tippy.js@6",cached:!0,dataType:"script"})}})),n++,setTimeout(t,1e3))};t()}),v=(t={},r=function(e){return t[e]||(t[e]=h()),t[e]},(a={}).ctx=function(e){return["div",{class:"wallet",id:r(e)}]},a.sync=function(e){var n=r(e),a=ke.walletAddress,t=["div",{class:"info"}];if(a?a=["span",["i",{class:"icon-link"}]," ",a="0x"+(a.substr(2,6)+"..."+a.substr(-6)).toUpperCase()]:ke.chainUnsupported?a=["span",["i",{class:"icon-attention"}]]:(a=["span",["i",{class:"icon-login"}]," Connect Wallet "],t.push({class:"unconnected"})),t.push(["span",{class:"address"},a]),ke.chainId){for(var i="",s=0;s<l.length;++s)l[s].id==ke.chainId&&(i=l[s].name);t.push(["span",{class:"c-chain"}," (",["span",{class:"chain"},b(i)],")"])}else ke.chainUnsupported&&t.push(["span",{class:"c-chain"}," Chain Unsupported!"]);$("#"+n).html(HTML(t)).find(".info").click(function(){ke.walletAddress||ke.chainUnsupported||ke.signIn(function(){Ae.sync()})});var o=["div",{class:"tippy-supported"},"Supported Networks:"];for(s=0;s<l.length;++s)l[s].supported&&o.push(["div","&#8226; "+b(l[s].name)]);m("#"+n+" .info",{content:HTML(o),allowHTML:!0,placement:"bottom"})},a),p=function(e){return/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})$/.test(e)},g=function(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},y=function(e){return/^(0?\.0*?[0-9]*|[1-9][0-9]*\.?[0-9]+|0)$/.test(e)},w=new Big("1000000000000000000"),I=function(e){try{return new Big(""+e).mul(w)+""}catch(e){return""}},k=function(e){try{return new Big(""+e).div(w)+""}catch(e){return""}},T=function(e){e.removeAttr("disabled")},A=function(e){e.attr("disabled","disabled")},R=function(e,n){var a,t="",i="https://opensea.io/assets",s="https://testnets.opensea.io/assets";if((1==a?t=i:4==n?t=s:137==n?t=i+"/matic":80001==n&&(t=s+"/mumbai"),t)&&((a=ke.config)&&(a=a.chainrand)&&(a=a.addresses)&&(a=a[n])))return t+"/"+a+"/"+e;return""},S=function(e){if("string"==typeof e||f.constructor==String)return 0<e.length};$(function(){var a=we.alert;we.alert=function(e){a({body:HTML(["div",{class:"alert-body"},e]),footer:HTML(["div",{class:"alert-footer"},["button",{class:"ok light"},"Ok"]]),afterShow:function(){$(".alert-footer .ok").click(function(){a.close()})}})},we.confirm=function(e,n){a({body:HTML(["div",{class:"alert-body"},e]),footer:HTML(["div",{class:"alert-footer"},["button",{class:"cancel light"},"Cancel"],["div",{class:"spacer"}],["button",{class:"ok"},"Ok"]]),afterShow:function(){$(".alert-footer .ok").click(function(){a.close(),n()}),$(".alert-footer .cancel").click(function(){a.close()})}})}});var C,H,M,U,L,F,x,_,j,P,N,E,K,G,D,O,B,V,q,Y,W,J,Z,X,Q,ee,ne,ae,te,ie,se,oe,re,ce,de,le,ue,he,fe,me,ve,pe,ge,be=function(e){var n,a={};for(var t in e){var i=e[t].value;S(i)&&(n=i,i=String.prototype.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),a[e[t].name]=i}return a},ye=function(a,e){var n=function(e,n){m("#"+a+' .value[name="'+e+'"]',{content:n})};n("minter","Address of the Minter."),n("verified","Whether the project has been verified by Chainrand."),n("codeURI","The URI of the code's zip."),n("codeHash","The SHA-256 hash of the code's zip in hex."),n("seedKey","The seed key used by the code."),n("seedKeyHash","The SHA-256 hash of the seed key in hex."),n("randomness","The randomness generated by the Chainlink VRF."),n("paid","The total nominal fee paid to Chainrand in the native currency of the chain."),n("openSeaURI","The OpenSea link, which can also be used as the project's provenance."),n("projectURI","The IPFS CID or URL of the project."),n("imageURI","The IPFS CID or URL of the Chainrand NFT image. If none is provided, a on-chain random SVG will be generated.")},we=(C="modal"+(Math.random()+"").substr(3),H=function(e){var n=$("#"+C);if(n.length<1){var a=HTML.SVG,t=a.Path,i=a(18,18,t.M(0,0).L(18,18),t.M(0,18).L(18,0)),s=["div",{class:"modal",id:C},["div",{class:"modal-dialog"},["div",{class:"modal-content"},["div",{class:"modal-header"},["div",{class:"modal-close"},i],["div",{class:"modal-title"}]],["div",{class:"modal-body"}],["div",{class:"modal-footer"}]]],["div",{class:"modal-overlay"}]];$("body").append(HTML(s)),n=$("#"+C)}"title"in e?n.find(".modal-title").html(e.title).show():n.find(".modal-title").hide(),"body"in e?n.find(".modal-body").html(e.body).show():n.find(".modal-body").hide(),"footer"in e?n.find(".modal-footer").html(e.footer).show():n.find(".modal-footer").hide(),H.close=function(){H.active=0,n.removeClass("active"),$("body").removeClass("modal-shown-body"),setTimeout(function(){H.active||n.hide()},300)},H.hide=H.close,H.active=1,"beforeShow"in e&&$.isFunction(e.beforeShow)&&e.beforeShow(),n.show(),setTimeout(function(){n.addClass("active"),n.find(".modal-close").click(H.close),n.find(".modal-overlay").click(H.close),"afterShow"in e&&$.isFunction(e.afterShow)&&setTimeout(e.afterShow,300),$("body").addClass("modal-shown-body")},10)},M="alert"+(Math.random()+"").substr(3),U=function(e){var n=$("#"+M);if(n.length<1){var a=["div",{class:"modal-alert",id:M},["div",{class:"modal-dialog"},["div",{class:"modal-content"},["div",{class:"modal-body"}],["div",{class:"modal-footer"}]]],["div",{class:"modal-overlay"}]];$("body").append(HTML(a)),n=$("#"+M)}"body"in e?n.find(".modal-body").html(e.body).show():n.find(".modal-body").hide(),"footer"in e?n.find(".modal-footer").html(e.footer).show():n.find(".modal-footer").hide(),U.close=function(){U.active=0,n.removeClass("active"),$("body").removeClass("modal-alert-shown-body"),setTimeout(function(){U.active||n.hide()},300)},U.hide=U.close,U.active=1,"beforeShow"in e&&$.isFunction(e.beforeShow)&&e.beforeShow(),n.show(),setTimeout(function(){n.addClass("active"),n.find(".modal-close").click(U.close),n.find(".modal-overlay").click(U.close),"afterShow"in e&&$.isFunction(e.afterShow)&&setTimeout(e.afterShow,300),$("body").addClass("modal-alert-shown-body")},10)},H.alert=U,H),Ie=103,ke={walletAddress:null,config:null,contracts:null},Te=function(l,n){for(var e in l.contracts={},l.config)for(var a in l.contracts[e]={},l.config[e])l.contracts[e][a]=null;var i=function(e,n){var a="crls_"+e,t=window.localStorage.getItem(a);return null===t?(window.localStorage.setItem(a,n),n):t},s=function(e,n){var a="crls_"+e;window.localStorage.setItem(a,n)},d=function(e,n){for(var a=e?e[n]:null,t=[],i=2;i<arguments.length;++i)t.push(arguments[i]);$.isFunction(a)?a.apply(void 0,t):"success"==n&&$.isFunction(e)&&e.apply(void 0,t)};void 0!==window.ethereum&&(l.web3=new Web3(window.ethereum));var t=function(e){for(var n in l.config)if(!l.config[n].addresses[e])return!1;return!0},u=function(n,e){return{success:e,error:function(e){d(n,"error",e)}}},h=function(n){l.web3?l.web3.eth.net.getId().then(function(e){t(e)?(l.chainId=e,l.chainUnsupported=0,d(n,"success",e)):(l.chainId=null,l.walletAddress=null,l.chainUnsupported=1,d(n,"error",{code:102}))}).catch(function(e){l.chainId=null,l.walletAddress=null,l.chainUnsupported=0,d(n,"error",{code:101})}):(l.chainId=null,l.walletAddress=null,l.chainUnsupported=0,d(n,"error",{code:101}))},f=function(n,a){h(u(n,function(e){l.chainId=e,(a?l.web3.eth.getAccounts():window.ethereum.request({method:"eth_requestAccounts"})).then(function(e){l.walletAddress=e[0],d(n,"success",l.walletAddress)}).catch(function(e){l.walletAddress=null,d(n,"error",{code:105})})}))},m=function(e){f(e,1)},o=function(){return null!==l.walletAddress&&null!==l.chainId},v=function(n){var e=arguments,a=e.length,t=e[a-1],i=2<a?e[1]:"",s=[];if(3<a)for(var o=2;o<a-1;++o)s.push(e[o]);var r=n.split("!");n=r[0];var c=u(t,function(e){if(l.contracts[n][e]||(l.contracts[n][e]=new l.web3.eth.Contract(l.config[n].abi,l.config[n].addresses[e])),""==i)d(t,"success",l.contracts[n][e]);else try{l.contracts[n][e].methods[i].apply(void 0,s).call().then(function(e){d(t,"success",e)}).catch(function(e){d(t,"error",{code:Ie})})}catch(e){d(t,"error",{code:Ie})}});1<r.length?m(u(c,function(){l.isSignedIn()?d(c,"success",l.chainId):f(u(c,function(){l.walletAddress&&l.chainId?d(c,"success",l.chainId):d(c,"error",{code:101})}))})):h(c)},r="authorizeLinkPending",c=function(e){var n=i(r,{});delete n[e],s(r,n)},p=function(a,t){l.web3.eth.getTransactionReceipt(a,function(e,n){e||(null==n?setTimeout(function(){p(a,t)},5e3):d(t,"success",n.status))})},g=function(n,a,t){n.estimateGas(a).then(function(e){a.gas=e,n.send(a).on("transactionHash",function(e){d(t,"success",e)}).catch(function(e){d(t,"error",{code:Ie,message:"Transaction failed."})})}).catch(function(e){d(t,"error",{code:Ie,message:function(e){var n=""+((l.ethError=e)?e.message:"");if(/insufficient/i.test(n))return"Insufficient funds for payment and gas fees.";try{var a,t=JSON.parse(n.substr(n.indexOf("{")));return((a=t.originalError)&&(a=a.message)||(a=t.message))&&(t=a.replace(/^[^:]+:\s*/,"")),t}catch(e){return"Transaction failed."}}(e)})})};l.getEtherscanLink=function(e){var n,a="";if(80001==l.chainId&&(a="https://mumbai.polygonscan.com/address/"),1==l.chainId&&(a="https://etherscan.io/address/"),4==l.chainId&&(a="https://rinkeby.etherscan.io/address/"),137==l.chainId&&(a="https://polygonscan.com/address/"),l.chainId&&(n=l.config[e])&&(n=n.addresses)&&(n=n[l.chainId]))return a+n;return""},l.signIn=f,l.silentSignIn=m,l.chainIsSupported=t,l.callContract=v,l.authorizeLink=function(t){v("chainlink!",u(t,function(e){var n=l.config.chainrand.addresses[l.chainId],a=e.methods.approve(n,"100000000000000000000000000");g(a,{from:l.walletAddress},u(t,function(n){var e,a;d(t,"pending",n),e=n,(a=i(r,{}))[e]={walletAddress:l.walletAddress,chainId:l.chainId},s(r,a),p(n,function(e){c(n),d(t,"success",e)})}))}))},l.checkHasAuthorizedLink=function(a){v("chainlink!","allowance",l.walletAddress,l.config.chainrand.addresses[l.chainId],u(a,function(e){if("0"!=(e=""+e))d(a,"success",!0);else{var n=function(){var e=i(r,{});for(var n in e){var a=e[n];if(a.walletAddress==l.walletAddress&&a.chainId==l.chainId)return n}return null}();n?(d(a,"pending"),p(n,function(e){c(n),d(a,"success",e)})):d(a,"success",!1)}}))},l.waitTransactionMined=p,l.mint=function(a,t,i,s,o,r,c,d){v("chainrand!",u(d,function(e){var n=e.methods.mint(a,t,i,s,o,r);g(n,{from:l.walletAddress,value:c},d)}))},l.updateToken=function(a,e,t,i){var s="set"+b(e);v("chainrand!",u(i,function(e){var n=e.methods[s](a,t);g(n,{from:l.walletAddress},i)}))},l.payToken=function(a,t,i){v("chainrand!",u(i,function(e){var n=e.methods.pay(a);g(n,{from:l.walletAddress,value:t},i)}))},l.isSignedIn=o,window.ethereum.on("accountsChanged",function(e){m(n)}),window.ethereum.on("networkChanged",function(e){m(n)}),window.ethereum.on("chainChanged",function(e){m(n)}),m(n)},Ae=(F=[],x=["div",{id:"pages"}],_=[],P=!(j=function(e,n){for(var a=e?e[n]:null,t=[],i=2;i<arguments.length;++i)t.push(arguments[i]);$.isFunction(a)&&a.apply(void 0,t)}),(L={}).add=function(a){a.path=a.label.replace(/\s+/g,"-").toLowerCase(),a.synced=!1,a.inited=!1,a.visible=!1,a.sel='#pages .page[path="'+a.path+'"]',F.push(a),x.push(["div",{class:"page",path:a.path}]),_.push(["a",{href:"#/"+a.path},b(a.label)]),HTML.route(a.path,function(){for(var e=0;e<F.length;++e){var n=F[e];n.path==a.path?(n.visible=!0,n.inited||(j(n,"init",n.sel),n.inited=!0),$(n.sel).show(),j(n,"show",n.sel),P&&(n.synced||(j(n,"sync",n.sel),n.synced=!0))):($(n.sel).hide(),j(n,"hide",n.sel),n.visible=!1)}})},L.init=function(){var e=["div",{id:"navbar"},["div",{class:"desktop"},["table",["tr",["td",{class:"c-logo"},["a",{href:"#/home"},["img",{src:"assets/nav_logo.png"}]]],["td",{class:"c-links"},_],["td",{class:"c-s0cial"},""]]]],["div",{class:"mobile"},["table",["tr",["td",{class:"c-hamburger"},["div",{class:"hamburger"},["div",{class:"l-0"}],["div",{class:"l-1"}],["div",{class:"l-2"}]]],["td",{class:"c-logo"},["img",{src:"assets/nav_logo.png"}]],["td",{class:"c-right"}]]]],["div",{class:"slider"},["div",{class:"c-links"},_],["div",{class:"c-s0cial"},""],["div",{class:"bg"}],["div",{class:"overlay"}]]];$("body").html(HTML([e,x])),HTML.route.go(":home"),function(){var t=0;$("#navbar .slider").hide(),$("#navbar .hamburger").click(function(){if(!t){t=1;var e=$(this),n=$("#navbar .slider"),a=n.find("a");e.hasClass("active")?(setTimeout(function(){$("#navbar").removeClass("slided")},200),e.removeClass("active"),n.removeClass("active"),a.each(function(e,n){setTimeout(function(){n.style.opacity=0},Math.max(0,30*(a.length-3-e)))}),setTimeout(function(){t=0,n.hide()},700)):(n.show(),setTimeout(function(){e.addClass("active"),n.addClass("active"),a.each(function(e,n){setTimeout(function(){n.style.opacity=1},60*e)}),setTimeout(function(){t=0},500)},15),$("#navbar").addClass("slided"))}});var a=function(){t?setTimeout(a,60):$("#navbar .hamburger").click()};$("#navbar .slider a, #navbar .slider .overlay").click(function(){var e=$(this).attr("href"),n=$(this).attr("target");e&&"#"!=(""+e).substr(0,1)&&"_blank"!=n||a()})}()},L.sync=function(){P=!0;for(var e=0;e<F.length;++e){var n=F[e];n.visible?(j(n,"sync",n.sel),n.synced=!0):n.synced=!1}},L);!function(){var i,t,s,o,r,c,d,l,u,h,f,m,v,p,g,b,y,w=["#ifdef GL_ES","precision mediump float;","#endif","attribute vec2 aPos;","void main() {","gl_Position = vec4(aPos, 0.0, 1.0);","}"].join("\n"),I=["// Author @patriciogv - 2015","// Title: DeFrag","// Adapted from https://thebookofshaders.com/edit.php#10/ikeda-04.frag","#ifdef GL_ES","precision mediump float;","#endif","uniform float u[5];","float random (float x) { return fract(sin(x)*1e4); }","float random (vec2 _st) { return fract(sin(dot(_st.xy, vec2(12.9898,78.233)))* 43758.5453123);}","void main() {","vec2 u_resolution = vec2(u[0], u[1]);","vec2 u_mouse = vec2(u[2], u[3]);","float u_time = u[4];","vec2 st = gl_FragCoord.xy/u_resolution.xy;","st.x *= u_resolution.x/u_resolution.y;","vec2 grid = vec2(100.0,100.0);","st *= grid;","vec2 ipos = floor(st);","vec2 vel = vec2(u_time*10.);","vel *= vec2(-1.,0.)*(step(1.,mod(ipos.y,2.0))-0.5)*2.*random(ipos.y);","vec3 color = vec3(1.0);","color *= step(grid.y,ipos.y);","color += step(0.0,ipos.y);","color = clamp(color,vec3(0.),vec3(1.));","float thres = abs(u_mouse.y/u_resolution.y-.5);","thres = thres + abs(u_mouse.x/u_resolution.x-.5);","thres = .5+clamp(thres*.5,.1,.5)*.5;","color *= random(floor(st+vel));","color = smoothstep(0.,thres,color*color);","color = step(thres,color);","float margin = .2;","color *= step(margin,fract(st.x+vel.x))*step(margin,fract(st.y+vel.y));","gl_FragColor = vec4(1.9-color,1.);","}"].join("\n"),k=0,T=0,n=["div",["div",{class:"splash"},["canvas",{class:"bg"}],["div",{class:"front"},["div",{class:"title"},"Fair Randomness Anywhere"],["div",{class:"tagline"},"Generate verifiable random numbers efficiently without limits"],["div",{class:"buttons"},["a",{class:"mint",href:"#/mint"},["div",["i",{class:"icon-diamond"}]," ","Mint"],["div",{class:"b-0"}],["div",{class:"b-1"}]],["a",{class:"github",href:z,target:"_blank"},["div",["i",{class:"icon-github-circled"}]," ","Github"],["div",{class:"b-0"}],["div",{class:"b-1"}]]]],["div",{class:"overscroll"}]]],e=["div",["p","Random number generators are prevalent in our everyday lives. "],["p","It is important for RNGs to be unbiased and incorruptible."],["p","However, RNG seeds can be cherry-picked to achieve ","unfair outcomes in subtle ways. ","This is a common problem in many fields ","known as Statistical P-Hacking, ","which is very hard to detect, or disprove."],["p","With Chainrand, it is now easy to use ","Chainlink Verifiable Random Functions ","for flexible, efficient computations in off-chain code ","in a verfiably fair way. "]],a=["div",{class:"s-intro"},["div",{class:"desktop"},["table",["tr",["td",{class:"t-0"},["div",{class:"title"},(H="Fairness Without Compromises").replace(/\s/g,"<br>")]],["td",{class:"t-1"},["div",{class:"text"},e]]]]],["div",{class:"mobile"},["div",{class:"title"},H],["div",{class:"text"},e]]];n.push(a);var A=["div",{class:"field"},["img",{src:"assets/home-gaming.png"}],["div",{class:"text"},"Gaming"]],R=["div",{class:"field"},["img",{src:"assets/home-art.png"}],["div",{class:"text"},"Art"]],S=["div",{class:"spacer"}],C=["div",{class:"s-applications"},["div",{class:"title"},"Applications"],["div",{class:"desktop"},H=["div",{class:"field"},["img",{src:"assets/home-academia.png"}],["div",{class:"text"},"Research"]],S,e=["div",{class:"field"},["img",{src:"assets/home-finance.png"}],["div",{class:"text"},"Finance"]],S,A,S,R],["div",{class:"mobile"},["div",H,S,e],["div",A,S,R]]];n.push(C);var H,M=["div",{class:"arrow"},["i",{class:"icon-angle-down"}]],U=["div",{class:"s-started"},["div",{class:"desktop"},["table",["tr",["td",{class:"t-0"},H=["div",["div",{class:"title"},"Getting Started"],["div",{class:"info"},"Chainrand provides determinstic cryptographically secure RNG SDKs ","for several languages. More languages will be added over time."],["div",{class:"sdks"},["a",{class:"lang",href:z+"/chainrand-js",target:"_blank"},["img",{src:"assets/home-lang-js.svg"}],["div",{class:"text"},"Javascript"]],["a",{class:"lang",href:z+"/chainrand-py",target:"_blank"},["img",{src:"assets/home-lang-py.svg"}],["div",{class:"text"},"Python"]],["a",{class:"lang",href:z+"/chainrand-cpp",target:"_blank"},["img",{src:"assets/home-lang-cpp.svg"}],["div",{class:"text"},"C++"]]],["div",{class:"info"},"For a more comprehensive process, checkout our demo generative NFT project. "],["div",{class:"demo"},["a",{href:z+"/chainrand-demo",target:"_blank"},"Link to Demo project ",["i",{class:"icon-link-ext"}]]]]],["td",{class:"t-1"},e=["div",{class:"process"},["div",{class:"step"},"Write off-chain determinstic RNG code with a Chainrand SDK, ","and publish it."],M,["div",{class:"step"},"Mint a Chainrand NFT to permanently tie the code to an ","unpredictable, immutable RNG seed generated with Chainlink VRF."],M,["div",{class:"step"},"Run the code, publish the results, and update the Chainrand NFT."]]]]]],["div",{class:"mobile"},H,["div",{class:"subtitle"},"The Process"],e],["div",{class:"bg"}]];n.push(U);var L=0,F=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},x=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){return window.clearTimeout(e)},_=function(){if(k<1){var e=t.width(),n=t.height();if(e!=p||n!=g){f=Math.max(350,.7*n),h=e;var a=o.height();f=Math.max(f,1.28*a),c.height=f,c.width=h,d.viewport(0,0,h,f),g=n,p=e,r.css({width:Math.ceil(e),height:Math.ceil(1.2*n)})}u[0]=h,u[1]=f,u[2]=m,u[3]=v,u[4]=L,L+=.02,d.uniform1fv(l,u),d.drawArrays(d.TRIANGLES,0,6)}k=(k+1)%4,T&&(b=F(_))},j=function(){s=i.find("canvas"),o=i.find(".splash .front"),r=i.find(".s-started .bg"),c=s[0],d=c.getContext("webgl");var e=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);y=e;var n=d.createShader(d.VERTEX_SHADER);d.shaderSource(n,w),d.compileShader(n);var a=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(a,I),d.compileShader(a);var t=d.createProgram();d.attachShader(t,n),d.attachShader(t,a),d.linkProgram(t),d.useProgram(t),function(e,n,a,t){var i=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,i),d.bufferData(d.ARRAY_BUFFER,n,d.STATIC_DRAW);var s=d.getAttribLocation(e,t);return d.vertexAttribPointer(s,a,d.FLOAT,!1,0,0),d.enableVertexAttribArray(s),d.bindBuffer(d.ARRAY_BUFFER,null),i}(t,y,2,"aPos"),l=d.getUniformLocation(t,"u"),u=new Float32Array(5),s.on("mousemove",function(e){m=e.pageX,v=e.pageY})};Ae.add({label:"home",init:function(e){i=$(e).html(HTML(n)),t=$(window),j()},sync:function(e){},show:function(){T||(T=1,b=F(_))},hide:function(){T&&(x(b),T=0)}})}(),D=function(e,n,a,t){return["div",{class:"f-row",name:n},["div",{class:"label"},e,a?" *":"",["div",{class:"help",name:n},["div","?"]]],["div",{class:"field"},["div",{class:"error"},"Lorem Ipsum"],["input",{name:n,type:"text"}]],t?["div",{class:"description",name:n},t]:""]},O="Authorize LINK payment",B=function(e){var a={};for(var n in e)a[n]=e[n];var t,i,s=a.seedKey;delete a.seedKey,a.seedKeyHash=c((t=s,(i=sha256.create()).update(t),i.hex()));var o=function(e){var n=a[e];p(n)&&(a[e]="ipfs://"+n)};return o("codeURI"),o("imageURI"),o("projectURI"),a.codeHash=c(a.codeHash),a.payment&&(a.value=I(a.payment)),delete a.payment,a},V=["div",{class:"content"},v.ctx("mint"),["form",{class:"form"},["div",{class:"note"},"* - Required fields"],D("Name","name",1,"This is the name of your NFT. Don't worry about collisions."),D("Seed Key","seedKey",1,"This makes the off-chain RNG unpredictable. <br>Only the hash will be stored on minting. <br>After you have generated and released the results, you will need to reveal this seed key for others to verify fairness. <br>Make sure it is very strong and record it in a safe place."),D("Code Hash","codeHash",1,"This is the SHA-256 hash of the code zip in hexadecimal format."),D("Code URI","codeURI",1,"This is a permalink to the code zip. <br>For best permanace, IPFS is recommend. <br>You can use web3.storage to store the files for free."),D("Image URI","imageURI",0,"An image for your NFT. You can change this later. <br>If no image is provided, a random image will be generated on-chain."),D("Project URI","projectURI",0,"Your project's URI. You can change this later. <br>This can be an etherscan url or simply your project's website."),D(["span","Payment (",["span",{class:"currency"},"ETH"],["span",{class:"min"},", min: ",["span",{class:"amount"},"0.0"]],")"],"payment",0,"A nominal fee to prevent spam and fund development. <br>If you feel generous, you can pay more <br>so that your project will appear above others in the search."),["div",{class:"notice"},"Minting requires an additional ",["span",{name:"vrfFee"},"0.0"]," LINK ","for Chainlink VRF payment. <br>"],["button",{class:"authorize green"},O],["button",{class:"mint"},"Mint"],["div",{class:"contract-link"}]]],q=function(){var e=G.find('input[name="payment"]'),n=e.attr("min"),a=G.find('.f-row[name="payment"] .min');if("0"!=n){var t=k(n);e.val(t),a.show().find(".amount").html(t)}else a.hide(),e.val("")},Y=function(e){G.find(".error").hide(),G.find("input").val(""),G.find(".help").removeClass("active"),G.find(".description").hide(),q(),we.alert("Mint submitted. <br>The tokens page will auto-refresh."),window.location.hash="#/tokens",setTimeout(function(){ke.waitTransactionMined(e,function(){var a,t,i;u++,a=0,t=-1,i=function(){ke.isSignedIn()&&ke.callContract("chainrand","balanceOf",ke.walletAddress,function(n){0<=(n=parseInt(n,10)-1)&&ke.isSignedIn()&&ke.callContract("chainrand","tokens",n,function(e){"0"!=e.randomness+""&&(a++,t!=n&&(u++,Ae.sync(),t=n)),a<2&&setTimeout(i,3e4)})})},setTimeout(i,15e3),Ae.sync()})},30)},W=function(){for(var e,n=be(G.serializeArray()),a=function(a){var e,t=[],n=function(e){a[e].length<1&&t.push({name:e,message:"Cannot be empty!"})},i=function(e){var n=a[e];g(n)||p(n)||t.push({name:e,message:"Must be a valid URL or CID!"})};n("name"),n("seedKey"),n("codeHash"),e=a.codeHash,/^(0x)?[0-9a-f]{64}$/i.test(e)||t.push({name:"codeHash",message:"Not a valid SHA-256 hash!"}),n("codeURI"),i("codeURI"),a.imageURI&&i("imageURI"),a.projectURI&&i("projectURI"),a.payment&&!y(a.payment)&&t.push({name:"payment",message:"Invalid amount!"});var s="0";a.payment&&y(a.payment)&&(s=a.payment),s=new Big(I(s));var o=G.find('input[name="payment"]').attr("min");return o||(o="0"),o=new Big(o),s.lt(o)&&t.push({name:"payment",message:"Insufficient amount!"}),t}(n),t=a.length-1;0<=t;t--){var i=a[t];G.find('.f-row[name="'+i.name+'"]').find(".error").html(i.message).show()}a.length<1&&(e=B(n),ke.mint(e.name,e.seedKeyHash,e.codeHash,e.codeURI,e.imageURI,e.projectURI,e.value,{success:Y,error:function(e){}}))},J=function(){T(E.show().off().click(X).html(O)),A(K.show())},Z=function(e){e?(E.hide(),T(K.show()),K.off().click(W)):J()},X=function(){ke.authorizeLink({success:Z,pending:function(){A(E.html("Waiting for authorization..."))},error:function(e){J()}})},Ae.add({label:"mint",init:function(t){(N=$(t).html(HTML(V))).find(".help").click(function(){var e=$(this),n=e.attr("name"),a=$(t+' .description[name="'+n+'"]');e.hasClass("active")?(a.hide(),e.removeClass("active")):(a.show(),e.addClass("active"))}),N.find("form").submit(function(e){e.preventDefault()}),E=N.find(".authorize"),K=N.find(".mint"),A(E),A(K),(G=N.find("form")).find("input").each(function(){var e,n;e=$(this).attr("name"),function(n,a){for(var e="input,keydown,keyup,mousedown,mouseup,select,contextmenu,drop,change".split(","),t=0;t<e.length;++t)n.on("change",function(){var e=n.val();n.attr("_prev")!=e&&a.is(":visible")&&a.hide(),n.attr("_prev",e)})}((n=G.find('.f-row[name="'+e+'"]')).find("input"),n.find(".error"))}),v.sync("mint")},sync:function(){if(v.sync("mint"),ke.chainId){ke.callContract("chainrand","vrfFee",function(e){N.find('[name="vrfFee"]').html(k(e))});for(var e=0;e<l.length;++e)l[e].id==ke.chainId&&N.find(".currency").html(l[e].currency)}if(ke.isSignedIn()){var n={},a=0,t=function(){2==a&&(G.find('input[name="payment"]').attr("min",n.mintFee),q(),Z(n.hasAuthorized))};ke.callContract("chainrand","mintFee",function(e){n.mintFee=e,a++,t()}),ke.checkHasAuthorizedLink(function(e){n.hasAuthorized=e,a++,t()})}!function(){var e=N.find(".contract-link");if(ke.isSignedIn()){var n=ke.getEtherscanLink("chainrand"),a=n.match(/\/([0-9a-fA-Fx]+)$/);a?e.html(HTML(["a",{href:n,target:"_blank"},HTML.escape("View contract ("+a[1]+")")])):e.html("")}else e.html("")}()}}),ae=["div",{class:"content"},v.ctx("tokens"),["div",{class:"results"}]],ie=te=0,se="",oe=function(e){var n=["div",{class:"message"},e];Q.find(".results").html(HTML(n))},re=function(){var e=$(this),o=e.attr("tokenId"),r=e.attr("name"),n=e.attr("label"),a="Change "+n,t="Save";if("seedKey"==r&&(a="Reveal Seed Key",t="Reveal"),"paid"==r){a="Pay";for(var i="",s=0;s<l.length;++s)l[s].id==ke.chainId&&(i=l[s].currency);n="Amount ("+i+")",t="Pay"}var c=["div",{class:"edit-footer"},["button",{class:"light cancel"},"Cancel"],["div",{class:"spacer"}],["button",{class:"save"},t]],d=function(){var e=be($(".edit-body").serializeArray())[r],n="",a=!e,t="";"paid"==r&&(a||y(e)||(n="Invalid amount!"),y(e=a?"0":e)&&(e=I(e)),"0"==e&&(t="Are you sure you want to pay nothing? <br>You will still incur gas fees")),"URI"==r.substr(-3)&&(a?t="Are you sure you want to submit an empty value?<br>This will remove the current value.":g(e)||p(e)?p(e)&&(e="ipfs://"+e):n="Must be a valid URI or CID!");var i={success:function(e){ke.waitTransactionMined(e,function(e){se="",$("html, body").animate({scrollTop:0},500),setTimeout(function(){Ae.sync()},600)}),we.close()},error:function(e){e.message?we.alert(e.message):we.alert("An error occured. Please reload page.")}},s=function(){"paid"==r?ke.payToken(o,e,i):ke.updateToken(o,r,e,i)};n?we.alert(n):t?we.confirm(t,s):s()};we({title:a,body:HTML(["form",{class:"edit-body"},["table",["tr",["td",{class:"label"},["span",n+": "]],["td",{class:"value"},["input",{type:"text",name:r}]]]]]),footer:HTML(c),beforeShow:function(){setTimeout(function(){var e=$(".edit-body .label"),n=e.find("span").width()+18;e.css("width",n),$(".edit-body .error").hide()},60)},afterShow:function(){$(".edit-body").submit(function(e){e.preventDefault(),d()});var e=$(".edit-footer");e.find(".cancel").click(we.close),e.find(".save").click(d)}})},ce="id,name,codeURI,seedKey,imageURI,projectURI,minter,seedKeyHash,codeHash,randomness,paid,verified".split(","),de=function(r,e){r.verified=1==r.verified?"Yes":"No",r.paid=k(r.paid),r.openSeaURI=R(r.id,e);var c=["table"],n=function(e,n){var a=e.replace(/\s/g,"");a=a.substr(0,1).toLowerCase()+a.substr(1);var t=r[a],i="URI"==e.substr(-3);if(t||n){var s=HTML.escape(t);if(i&&t&&(s=["a",{href:t,target:"_blank"},s]),s=["div",{class:"code"},s],n){t||s.push(["span",{class:"empty"},HTML.escape("<Empty>")]);var o=["i",{class:n}];s.push({class:"editable"},["div",{class:"edit",tokenId:r.id,name:a,label:e},o])}c.push(["tr",["td",{class:"label"},e+": "],["td",{class:"value",name:a},s]])}};return c.push(["tr",["td",{colspan:2},["div",{class:"head"},["span",{class:"id"},"#"+r.id],["span",{class:"name"},HTML.escape(r.name)]]]]),n("Verified"),n("Project URI","icon-pencil"),n("Image URI","icon-pencil"),n("Code URI","icon-pencil"),n("Code Hash"),n("Seed Key","icon-key"),n("Seed Key Hash"),n("Paid","icon-plus"),n("Randomness"),n("OpenSea URI"),c.push(["tr",["td",{colspan:2},["div",{class:"foot"},["a",{href:r.openSeaURI,target:"_blank"},"View on OpenSea",["i",{class:"icon-link-ext"}]]]]]),["div",{class:"token"},c]},le=function(){if(!ie){var c=Q.find(".batch[done=0]").first();if(0<c.length){ie=1;var e=c.attr("batchIds").split(",");ke.callContract("chainrand","tokenData",e,function(e){ie=0,c.attr("done","1");for(var n=c.attr("chainId"),a=ce.length,t=h(),i=["div",{id:t}],s=0;s<e.length;s+=a){for(var o={},r=0;r<a;++r)o[ce[r]]=e[s+r];i.push(de(o,n))}c.html(HTML(i)).find(".edit").click(re),ye(t)})}}},ue=function(){if(te){var e=ee.scrollTop();ne.height()-ee.height()-e<500&&le()}},Ae.add({label:"tokens",init:function(e){var n,a,t,i;Q=$(e).html(HTML(ae)),v.sync("tokens"),ee=$(window),ne=$("body"),ee.scroll((n=ue,a=300,t=0,i=function(){t=0,n()},function(){t||(t=1,setTimeout(i,a))}))},sync:function(e){ke.isSignedIn()?(oe("Loading..."),setTimeout(function(){ke.walletAddress||ke.chainUnsupported||oe("Not connected")},1500),ke.callContract("chainrand","tokensOfOwner",ke.walletAddress,function(e){!function(e,n,a){if(e.length<1)oe("Wallet has no tokens.");else{var t=0;0<u&&(u--,t=1);var i=e.join(",")+"/"+n+"/"+a;if(i!=se||t){for(var s=["div",{class:"batches"}],o=e.length,r=0;r<o;r+=5){for(var c=[],d=0;d<5&&r+d<o;++d)c.push(e[o-1-(r+d)]);s.push(["div",{class:"batch",batchIds:c.join(","),id:h(),walletAddress:n,chainId:a,done:"0"}])}se=i,Q.find(".results").html(HTML(s)),le()}}}(e,ke.walletAddress,ke.chainId)})):oe("Not connected."),v.sync("tokens")},show:function(){te=1,ke.web3||setTimeout(function(){ke.web3||oe("No web3 detected.<br>You need to use a web3 enabled browser.")},2e3)},hide:function(){te=0}}),me=["div",{class:"content"},["form",{class:"form"},["div",{class:"params"},["div",{class:"type"},["name","minter"],function(e){var n=h();return["span",{class:"radio"},["input",{type:"radio",id:n,value:e,name:"type"}],["div",{class:"check"},["div"]],["label",{for:n},b(e)]]}],["div",{class:"chain"},["select",{name:"chain"},l,function(e){return e.supported?["option",{value:e.id},b(e.name)]:""}]]],["div",{class:"query"},["input",{type:"text",name:"query"}]],["div",{class:"search"},["button","Search"],["input",{type:"submit"}]]],["div",{class:"results"}]],ve=function(){he.find(".results").html(HTML(["div",{class:"message"},"No results."]))},pe=0,ge=function(a,t){var i=5,s=++pe,o=function(){if(ke.config){var e=h(),n=["div",a,function(e){return function(r,e){r.verified=1==r.verified?"Yes":"No",r.paid=k(r.paid),r.openSeaURI=R(r.id,e);var c=["table"],n=function(e,n){var a=e.replace(/\s/g,"");a=a.substr(0,1).toLowerCase()+a.substr(1);var t=r[a],i="URI"==e.substr(-3);if(t||n){var s=HTML.escape(t);if(i&&t&&(s=["a",{href:t,target:"_blank"},s]),s=["div",{class:"code"},s],n){t||s.push(["span",{class:"empty"},HTML.escape("<Empty>")]);var o=["i",{class:n}];s.push({class:"editable"},["div",{class:"edit",tokenId:r.id},o])}c.push(["tr",["td",{class:"label"},e+": "],["td",{class:"value",name:a},s]])}};return c.push(["tr",["td",{colspan:2},["div",{class:"head"},["span",{class:"id"},"#"+r.id],["span",{class:"name"},HTML.escape(r.name)]]]]),n("Minter"),n("Verified"),n("Project URI"),n("Image URI"),n("Code URI"),n("Code Hash"),n("Seed Key"),n("Seed Key Hash"),n("Randomness"),c.push(["tr",["td",{colspan:2},["div",{class:"foot"},["a",{href:r.openSeaURI,target:"_blank"},"View on OpenSea",["i",{class:"icon-link-ext"}]]]]]),["div",{class:"token"},c]}(e,t)},{id:e}];s==pe&&he.find(".results").html(HTML(n)),ye(e)}else 0<i?(i--,setTimeout(o,500)):ve()};o()},Ae.add({label:"search",init:function(e){(he=$(e).html(HTML(me))).find('.type input[type="radio"]').first().prop("checked",!0),fe=he.find("form").submit(function(e){e.preventDefault();var n,a,t=$(this);n=be(t.serializeArray()),a="#/search/"+n.chain+"/"+n.type+"/"+encodeURIComponent(n.query),window.location.hash=a})},sync:function(){ke.chainId&&he.find(".chain select").val(ke.chainId)},show:function(){var e=window.location.hash.match(/^(?:#\/)?search\/(\d+)\/([^\/]+)\/(.*)$/i);if(e){var n={},a=decodeURIComponent(e[3]),t=e[2].toLowerCase(),i=e[1];n[t]=a,n.c=i,fe.find('input[name="query"]').val(a),fe.find('select[name="chain"]').val(i),fe.find('input[name="type"]').each(function(){$(this).attr("value")==t&&$(this).prop("checked",t)}),$.ajax({url:"api",type:"GET",data:n,success:function(e){e.tokens&&0<e.tokens.length?ge(e.tokens,i):ve()}})}}}),$(function(){Ae.init(),$.ajax({url:"contracts/config.json",success:function(e){ke.config=e;var n=function(){Ae.sync()};Te(ke,{success:n,error:n})}})})}();
